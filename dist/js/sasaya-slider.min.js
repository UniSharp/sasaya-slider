"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();!function(t){var e="sasayaSlider",i="sasaya-slider",n=t.fn[e],s=800,o={pc:{interval:7e3,list:{position:"right",showCount:4}},mobile:{interval:5e3,list:{position:"bottom",showCount:2}}},a=function(){function e(t,i){_classCallCheck(this,e),this.$el=t,this.opts=i,this.init()}return _createClass(e,[{key:"init",value:function(){var e=this;if(this.busy=!1,this.active={},this.currentDevice=this.getDevice(),this.lastDevice=this.currentDevice,this.$main=this.$el.find(".main"),this.$list=t("<div>").addClass("list").appendTo(this.$el),!this.$main.find(".item").length)throw new Error("No slide.");for(var i=0;this.$main.find(".item").length<this.opts.pc.list.showCount+2;i++)this.$main.append(this.$main.find(".item").eq(i).clone());this.$slides=this.$main.find(".item"),this.$slides.clone(!0).appendTo(this.$list),this.$thumbs=this.$list.find(".item"),this.thumbHeight=this.$main.height()/this.opts.pc.list.showCount,["$slides","$thumbs"].forEach(function(i){e[i].each(function(n,s){var o=t(s);[{name:"next",fallback:function(t){return t.first()}},{name:"prev",fallback:function(t){return t.last()}}].forEach(function(t){var n=o[t.name].call(o);n.length||(n=t.fallback.call(e[i],e[i])),o.data(t.name,n)})})}),this.active.main=this.$slides.first(),this.active.list=this.$thumbs.eq(1),this.makeActive(),this.setSlidesPosition(),t(window).resize(function(){e.currentDevice=e.getDevice(),e.currentDevice!=e.lastDevice&&(e.lastDevice=e.currentDevice,e.setSlidesPosition())}),this.setTimeout()}},{key:"getDevice",value:function(){return t(window).width()<=768?"mobile":"pc"}},{key:"makeActive",value:function(){t.each(this.active,function(t,e){e.addClass("active").siblings().removeClass("active")})}},{key:"setSlidesPosition",value:function(e,i){var n=this;[{properties:{left:"-100%"},elements:this.active.main.data("prev")},{properties:{left:0},elements:this.active.main},{properties:{left:"100%"},elements:function(){var e=[];return n.active.main.siblings().each(function(t,i){i!==n.active.main.data("prev")[0]&&e.push(i)}),t(e)}()},{properties:function(){var t={pc:{top:function(){return n.thumbHeight*-1+"px"},left:0},mobile:{top:0,left:function(){return 100/n.opts.mobile.list.showCount*-1+"%"}}};return t[n.currentDevice]}(),elements:this.active.list.data("prev")},{properties:function(){var t={pc:{top:function(t){return n.thumbHeight*Math.min(t,n.opts.pc.list.showCount)+"px"},left:0},mobile:{top:0,left:function(t){return 100/n.opts.mobile.list.showCount*Math.min(t,n.opts.mobile.list.showCount)+"%"}}};return t[n.currentDevice]}(),elements:function(){for(var e=[],i=0,s=n.active.list;i<n.$thumbs.length-1;i++,s=s.data("next"))e.push(s);return t(e)}()}].forEach(function(i){i.elements.each(function(n,o){t.each(i.properties,function(i,a){var r=e?"animate":"css",c=parseInt(t(o).css(i));"function"==typeof a&&(a=a.call(o,n,o)),("animate"===r&&0===c&&0===a||0!==c&&0!==a&&c<0&&parseInt(a)>0||c>0&&parseInt(a)<0)&&(r="css"),t(o)[r].apply(t(o),function(){var t={},e=[];return t[i]=a,e.push(t),"animate"===r&&e.push(s),e}())})})}),"function"==typeof i&&window.setTimeout(function(){i.call(n)},e?s:1)}},{key:"show",value:function(e){var i=this;this.busy||(this.busy=!0,this.clearTimeout(),t.each(this.active,function(t,n){i.active[t]=n.data(e)}),this.setSlidesPosition(!0,function(){i.makeActive(),i.setTimeout(),i.busy=!1}))}},{key:"setTimeout",value:function(){var t=this;this.timeout&&this.clearTimeout(),this.timeout=window.setTimeout(function(){t.show("next")},this.opts[this.currentDevice].interval)}},{key:"clearTimeout",value:function(){window.clearTimeout(this.timeout)}}],[{key:"plugin",value:function(n){var s=t.extend({},o,"object"===("undefined"==typeof n?"undefined":_typeof(n))?n:{});return this.each(function(o,a){var r=t(a),c=r.data(i);if(c||r.data(i,c=new e(r,s)),"string"==typeof n)switch(n){case"prev":case"next":c.show(n);break;default:throw new Error("Method ["+n+"] not found.")}})}}]),e}();t.fn.sasayaSlider=a.plugin,t.fn.sasayaSlider.Constructor=a,t.fn.sasayaSlider.noConflict=function(){return t.fn.sasayaSlider=n,a.plugin}}(jQuery);
//# sourceMappingURL=sasaya-slider.min.js.map
